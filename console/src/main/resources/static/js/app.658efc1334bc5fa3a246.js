webpackJsonp([1],{0:function(t,e){},"1Ovc":function(t,e){},"5GCS":function(t,e){},"69Z0":function(t,e){},"9WWM":function(t,e){},DlX2:function(t,e){},JMqX:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("xd7I"),i={render:function(){var t=this.$createElement;return(this._self._c||t)("router-view")},staticRenderFns:[]};var n=a("C7Lr")({name:"App"},i,!1,function(t){a("1Ovc")},null,null).exports,r=a("3XdE"),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sticky-header"},[a("section",{staticClass:"login-section"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"login-wrapper"},[a("div",{staticClass:"login-inner"},[t._m(0),t._v(" "),a("h2",{staticClass:"header-title text-center"},[t._v("登录")]),t._v(" "),a("form",[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.entity.email,expression:"entity.email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.entity.email},on:{input:function(e){e.target.composing||t.$set(t.entity,"email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.entity.password,expression:"entity.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.entity.password},on:{input:function(e){e.target.composing||t.$set(t.entity,"password",e.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),a("div",{staticClass:"form-group"},[a("input",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",value:"登录"},on:{click:function(e){return t.submit()}}})])]),t._v(" "),t._m(2)])])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:"static/assets/images/logo-dark.png",alt:"logo"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("div",{staticClass:"pull-left"},[e("div",{staticClass:"checkbox primary"},[e("input",{attrs:{id:"checkbox-2",type:"checkbox"}}),this._v(" "),e("label",{attrs:{for:"checkbox-2"}},[this._v("记住我")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"copy-text"},[e("p",{staticClass:"m-0"},[this._v("2019 © 仪表管理员")])])}]};var l=a("C7Lr")({name:"login",data:function(){return{entity:{email:"",password:""}}},mounted:function(){},methods:{submit:function(){""!==this.entity.email?""!==this.entity.password?this.login():this.$message.error("请输入密码"):this.$message.error("请输入账号(邮箱)")},login:function(){var t=this;this.$http.post(this.api.authLogin,this.entity,{emulateJSON:!0}).then(function(e){0===e.data.code?t.$router.push("/"):this.$message.error("服务器认证失败 "+e.data.msg)},function(t){this.$message.error("服务器认证失败")})}}},o,!1,function(t){a("VQ3W")},"data-v-0152db98",null).exports,c={name:"index",data:function(){return{name:""}},mounted:function(){initNavigation(),this.getCurrentUser()},methods:{loginout:function(){var t=this;this.$http.get(this.api.authLoginOut).then(function(e){t.clearCookie(),t.$router.push("/login")},function(e){t.clearCookie()})},clearCookie:function(){this.removeCookie("JSESSIONID"),this.removeCookie("name"),this.removeCookie("email")},getCurrentUser:function(){this.name=decodeURI(this.getCookie("name"))}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"header-section"},[t._m(1),t._v(" "),t._m(2),t._v(" "),a("div",{staticClass:"menu-right"},[a("ul",{staticClass:"notification-menu"},[t._m(3),t._v(" "),t._m(4),t._v(" "),a("li",[a("a",{staticClass:"btn btn-default dropdown-toggle",attrs:{href:"#","data-toggle":"dropdown"}},[a("img",{attrs:{src:"static/assets/images/users/avatar-6.jpg",alt:""}}),t._v(" "+t._s(t.name)+"\n              "),a("span",{staticClass:"caret"})]),t._v(" "),a("ul",{staticClass:"dropdown-menu dropdown-menu-usermenu pull-right"},[a("li",[a("a",{attrs:{href:"#"},on:{click:function(e){return t.loginout()}}},[a("i",{staticClass:"fa fa-lock"}),t._v(" 注销 ")])])])])])])]),t._v(" "),a("div",{staticClass:"wrapper"},[a("router-view")],1),t._v(" "),t._m(5)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-side sticky-left-side"},[a("div",{staticClass:"logo"},[a("a",{attrs:{href:"#/authManage"}},[a("img",{attrs:{src:"static/assets/images/logo.png",alt:""}})])]),t._v(" "),a("div",{staticClass:"logo-icon text-center"},[a("a",{attrs:{href:"#/authManage"}},[a("img",{attrs:{src:"static/assets/images/logo-icon.png",alt:""}})])]),t._v(" "),a("div",{staticClass:"left-side-inner"},[a("ul",{staticClass:"nav nav-pills nav-stacked custom-nav"},[a("li",{staticClass:"menu-list nav-active"},[a("a",{attrs:{href:"#/appManage"}},[a("i",{staticClass:"icon-home"}),t._v(" "),a("span",[t._v("基础管理")])]),t._v(" "),a("ul",{staticClass:"sub-menu-list"},[a("li",{staticClass:"active"},[a("a",{attrs:{href:"#/console"}},[t._v(" Dashboard管理")])]),t._v(" "),a("li",{staticClass:"active"},[a("a",{attrs:{href:"#/authManage"}},[t._v(" Auth管理")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#/appManage"}},[t._v(" App管理")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#/agentList"}},[t._v(" Agent列表")])])])]),t._v(" "),a("li",{staticClass:"menu-list"},[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"icon-layers"}),t._v(" "),a("span",[t._v("后台管理")])]),t._v(" "),a("ul",{staticClass:"sub-menu-list"},[a("li",[a("a",{attrs:{href:"#/userManage"}},[t._v(" 用户管理")])])])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"toggle-btn"},[e("i",{staticClass:"fa fa-bars"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("form",{staticClass:"searchform"},[e("input",{staticClass:"form-control",attrs:{type:"text",name:"keyword",placeholder:"Search here..."}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"btn btn-default dropdown-toggle info-number",attrs:{href:"#","data-toggle":"dropdown"}},[a("i",{staticClass:"fa fa-tasks"}),t._v(" "),a("span",{staticClass:"badge"},[t._v("8")])]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-head pull-right"},[a("h5",{staticClass:"title"},[t._v("You have 8 pending task")]),t._v(" "),a("ul",{staticClass:"dropdown-list"},[a("li",{staticClass:"notification-scroll-list notification-list "},[a("a",{staticClass:"list-group-item",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"pull-left p-r-10"},[a("em",{staticClass:"fa  fa-shopping-cart noti-primary"})]),t._v(" "),a("div",{staticClass:"media-body"},[a("h5",{staticClass:"media-heading"},[t._v("A new order has been placed.")]),t._v(" "),a("p",{staticClass:"m-0"},[a("small",[t._v("29 min ago")])])])])]),t._v(" "),a("a",{staticClass:"list-group-item",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"pull-left p-r-10"},[a("em",{staticClass:"fa fa-check noti-success"})]),t._v(" "),a("div",{staticClass:"media-body"},[a("h5",{staticClass:"media-heading"},[t._v("Databse backup is complete")]),t._v(" "),a("p",{staticClass:"m-0"},[a("small",[t._v("12 min ago")])])])])]),t._v(" "),a("a",{staticClass:"list-group-item",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"pull-left p-r-10"},[a("em",{staticClass:"fa fa-user-plus noti-info"})]),t._v(" "),a("div",{staticClass:"media-body"},[a("h5",{staticClass:"media-heading"},[t._v("New user registered")]),t._v(" "),a("p",{staticClass:"m-0"},[a("small",[t._v("17 min ago")])])])])]),t._v(" "),a("a",{staticClass:"list-group-item",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"pull-left p-r-10"},[a("em",{staticClass:"fa fa-diamond noti-danger"})]),t._v(" "),a("div",{staticClass:"media-body"},[a("h5",{staticClass:"media-heading"},[t._v("Database error.")]),t._v(" "),a("p",{staticClass:"m-0"},[a("small",[t._v("11 min ago")])])])])]),t._v(" "),a("a",{staticClass:"list-group-item",attrs:{href:"javascript:void(0);"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"pull-left p-r-10"},[a("em",{staticClass:"fa fa-cog noti-warning"})]),t._v(" "),a("div",{staticClass:"media-body"},[a("h5",{staticClass:"media-heading"},[t._v("New settings")]),t._v(" "),a("p",{staticClass:"m-0"},[a("small",[t._v("18 min ago")])])])])])]),t._v(" "),a("li",{staticClass:"last"},[a("a",{attrs:{href:"#"}},[t._v("View all notifications")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"btn btn-default dropdown-toggle info-number",attrs:{href:"#","data-toggle":"dropdown"}},[a("i",{staticClass:"fa fa-bell-o"}),t._v(" "),a("span",{staticClass:"badge"},[t._v("4")])]),t._v(" "),a("div",{staticClass:"dropdown-menu dropdown-menu-head pull-right"},[a("h5",{staticClass:"title"},[t._v("Notifications")]),t._v(" "),a("ul",{staticClass:"dropdown-list normal-list"},[a("li",{staticClass:"message-list message-scroll-list"},[a("a",{attrs:{href:"#"}},[a("span",{staticClass:"photo"},[a("img",{staticClass:"img-circle",attrs:{src:"static/assets/images/users/avatar-8.jpg",alt:"img"}})]),t._v(" "),a("span",{staticClass:"subject"},[t._v("John Doe")]),t._v(" "),a("span",{staticClass:"message"},[t._v(" New tasks needs to be done")]),t._v(" "),a("span",{staticClass:"time"},[t._v("15 minutes ago")])]),t._v(" "),a("a",{attrs:{href:"#"}},[a("span",{staticClass:"photo"},[a("img",{staticClass:"img-circle",attrs:{src:"static/assets/images/users/avatar-7.jpg",alt:"img"}})]),t._v(" "),a("span",{staticClass:"subject"},[t._v("John Doe")]),t._v(" "),a("span",{staticClass:"message"},[t._v(" New tasks needs to be done")]),t._v(" "),a("span",{staticClass:"time"},[t._v("10 minutes ago")])]),t._v(" "),a("a",{attrs:{href:"#"}},[a("span",{staticClass:"photo"},[a("img",{staticClass:"img-circle",attrs:{src:"static/assets/images/users/avatar-6.jpg",alt:"img"}})]),t._v(" "),a("span",{staticClass:"subject"},[t._v("John Doe")]),t._v(" "),a("span",{staticClass:"message"},[t._v(" New tasks needs to be done")]),t._v(" "),a("span",{staticClass:"time"},[t._v("20 minutes ago")])]),t._v(" "),a("a",{attrs:{href:"#"}},[a("span",{staticClass:"photo"},[a("img",{staticClass:"img-circle",attrs:{src:"static/assets/images/users/avatar-6.jpg",alt:"img"}})]),t._v(" "),a("span",{staticClass:"subject"},[t._v("John Doe")]),t._v(" "),a("span",{staticClass:"message"},[t._v(" New tasks needs to be done")]),t._v(" "),a("span",{staticClass:"time"},[t._v("20 minutes ago")])]),t._v(" "),a("a",{attrs:{href:"#"}},[a("span",{staticClass:"photo"},[a("img",{staticClass:"img-circle",attrs:{src:"static/assets/images/users/avatar-6.jpg",alt:"img"}})]),t._v(" "),a("span",{staticClass:"subject"},[t._v("John Doe")]),t._v(" "),a("span",{staticClass:"message"},[t._v(" New tasks needs to be done")]),t._v(" "),a("span",{staticClass:"time"},[t._v("20 minutes ago")])]),t._v(" "),a("a",{attrs:{href:"#"}},[a("span",{staticClass:"photo"},[a("img",{staticClass:"img-circle",attrs:{src:"static/assets/images/users/avatar-6.jpg",alt:"img"}})]),t._v(" "),a("span",{staticClass:"subject"},[t._v("John Doe")]),t._v(" "),a("span",{staticClass:"message"},[t._v(" New tasks needs to be done")]),t._v(" "),a("span",{staticClass:"time"},[t._v("20 minutes ago")])])]),t._v(" "),a("li",{staticClass:"last"},[a("a",{attrs:{href:"#"}},[t._v("All Messages")])])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer-main"},[this._v("Copyright © 2019.gyyx  All rights reserved.\n      "),e("a",{attrs:{target:"_blank",href:"http://www.gyyx.cn/"}},[this._v("光宇游戏")])])}]};var p=a("C7Lr")(c,u,!1,function(t){a("9WWM")},"data-v-1bc6dde4",null).exports;function d(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var a={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var s in a)if(new RegExp("("+s+")").test(e)){var i=a[s]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?i:m(i))}return e}function m(t){return("00"+t).substr(t.length)}a("p00s");function g(t){return""===t||void 0===t||null===t}function h(t){for(var e=0;e<t.length;e++){t[e].rownum=e+1}}var v={name:"AppManage",data:function(){return{page:this.config.page,tableData:[],dialogFormVisible:!1,formLabelWidth:"120px",dialogTableVisible:!1,entity:{auth_name:"",app_id:""},selected:[],listApp:[],rules:{auth_name:[{required:!0,message:"请输入秘钥名称",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],app_id:[{required:!0,message:"请选择App",trigger:"blur"}]}}},mounted:function(){this.queryListForPage(),this.appQueryList()},methods:{queryListForPage:function(t){this.$http.post(this.api.authQueryListForPage,{page:this.page}).then(function(e){var a=e.data;0===a.code?(h(a.data),this.tableData=a.data,this.page=a.page):204!==a.code&&this.$alert(a.msg,"提示",{confirmButtonText:"确定"}),t&&t(e)},function(){this.$message.error("后台异常")})},appQueryList:function(){this.$http.post(this.api.appQueryList,{page:this.page}).then(function(t){var e=t.data;0===e.code?this.listApp=e.data:204!==e.code&&this.$alert(e.msg,"提示",{confirmButtonText:"确定"})},function(){this.$message.error("后台异常")})},sizeChange:function(t){this.page.pageSize=t,this.page.currentPage=1,this.queryListForPage()},currentChange:function(t){this.page.currentPage=t,this.queryListForPage()},timeFormat:function(t,e,a){return g(a)?"":d(new Date(a),"yyyy-MM-dd HH:mm:ss")},insert:function(){this.$refs.form.validate(function(t){}),g(this.entity.auth_name)||g(this.entity.app_id)?this.$message.error("请填写秘钥名和选择APP"):this.$http.post(this.api.authInsertOrUpdate,this.entity).then(function(t){var e=t.data;0===e.code?(this.dialogFormVisible=!1,this.queryListForPage()):204!==e.code&&this.$alert(e.msg,"提示",{confirmButtonText:"确定"})},function(t){this.$message.error("后台异常")})},changeFun:function(t){this.selected=t},remove:function(){this.$http.post(this.api.authDelete,this.selected).then(function(t){var e=t.data;0===e.code?(this.$message({message:"成功",type:"success"}),this.queryListForPage()):204!==e.code&&this.$alert(e.msg,"提示",{confirmButtonText:"确定"})},function(){this.$message.error("后台异常")})},reflesh:function(){var t=this;this.queryListForPage(function(){t.$message("刷新成功")})},clearObj:function(t){if(void 0!==t){for(var e in t)t[e]="";return t}}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-title-box"},[a("h4",{staticClass:"page-title"},[t._v("Auth管理 ")]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",[a("button",{staticClass:"btn btn-success round",attrs:{type:"button"},on:{click:function(e){t.dialogFormVisible=!0,t.clearObj(t.entity)}}},[t._v("新增")])]),t._v(" "),a("li",[a("button",{staticClass:"btn btn-danger round",attrs:{type:"button"},on:{click:function(e){return t.remove()}}},[t._v("删除")])]),t._v(" "),a("li",[a("button",{staticClass:"btn btn-info round",attrs:{type:"button"},on:{click:function(e){return t.reflesh()}}},[t._v("刷新")])])]),t._v(" "),a("div",{staticClass:"clearfix"})]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"white-box"},[a("h2",{staticClass:"header-title"},[t._v("Auth列表")]),t._v(" "),a("div",{staticClass:"table-responsive"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",size:"mini"},on:{"selection-change":t.changeFun}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rownum",label:"序号",width:"60",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auth_name",label:"authName",width:"135",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auth_id",align:"center",width:"200",label:"AuthID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"auth_key",align:"center",width:"200",label:"AuthKey"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",align:"center",width:"200",label:"创建时间",formatter:t.timeFormat}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"app_name",label:"app名"}})],1)],t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{background:"",layout:"sizes,prev, pager, next,total","page-sizes":[10,20,50,100,200],total:t.page.totalRows,size:t.page.pageSize,"current-page":t.page.currentPage},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)],2)])])]),t._v(" "),a("el-dialog",{attrs:{title:"添加密钥",visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.entity,"status-icon":"",rules:t.rules}},[a("el-form-item",{attrs:{label:"名称:","label-width":t.formLabelWidth,prop:"auth_name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入秘钥名称"},model:{value:t.entity.auth_name,callback:function(e){t.$set(t.entity,"auth_name",e)},expression:"entity.auth_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"APP:","label-width":t.formLabelWidth,prop:"app_id"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择APP"},model:{value:t.entity.app_id,callback:function(e){t.$set(t.entity,"app_id",e)},expression:"entity.app_id"}},t._l(t.listApp,function(t){return a("el-option",{key:t.app_id,attrs:{label:t.app_name,value:t.app_id}})}),1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.insert()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var _=a("C7Lr")(v,f,!1,function(t){a("JMqX")},"data-v-ea81677c",null).exports,b={name:"AppManage",data:function(){return{page:this.config.page,tableData:[],dialogFormVisible:!1,formLabelWidth:"120px",dialogTableVisible:!1,entity:{instruct:"",app_name:""},selected:[],rules:{instruct:[{required:!0,message:"请输入指令",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}],app_name:[{required:!0,message:"请输入app名",trigger:"blur"},{min:1,max:30,message:"长度在 1 到 30 个字符",trigger:"blur"}]}}},mounted:function(){this.queryListForPage()},methods:{queryListForPage:function(t){this.$http.post(this.api.appQueryListForPage,{page:this.page}).then(function(e){var a=e.data;0===a.code?(h(a.data),this.tableData=a.data,this.page=a.page):204!==a.code&&this.$alert(a.msg,"提示",{confirmButtonText:"确定"}),t&&t(e)},function(){this.$message.error("后台异常")})},sizeChange:function(t){this.page.pageSize=t,this.page.currentPage=1,this.queryListForPage()},currentChange:function(t){this.page.currentPage=t,this.queryListForPage()},timeFormat:function(t,e,a){return g(a)?"":d(new Date(a),"yyyy-MM-dd HH:mm:ss")},insert:function(){var t=this,e=this;e.$refs.form.validate(function(a){a&&e.$http.post(t.api.appInsertOrUpdate,t.entity).then(function(t){var a=t.data;0===a.code?(e.dialogFormVisible=!1,e.queryListForPage()):204!==a.code&&e.$alert(a.msg,"提示",{confirmButtonText:"确定"})},function(t){e.$message.error("后台异常")})})},changeFun:function(t){this.selected=t},remove:function(){this.$http.post(this.api.appDelete,this.selected).then(function(t){var e=t.data;0===e.code?(this.$message({message:"成功",type:"success"}),this.queryListForPage()):204!==e.code&&this.$alert(e.msg,"提示",{confirmButtonText:"确定"})},function(){this.$message.error("后台异常")})},reflesh:function(){var t=this;this.queryListForPage(function(){t.$message("刷新成功")})},clearObj:function(t){if(void 0!==t){for(var e in t)t[e]="";return t}}}},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-title-box"},[a("h4",{staticClass:"page-title"},[t._v("App管理 ")]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",[a("button",{staticClass:"btn btn-success round",attrs:{type:"button"},on:{click:function(e){t.dialogFormVisible=!0,t.clearObj(t.entity)}}},[t._v("新增")])]),t._v(" "),a("li",[a("button",{staticClass:"btn btn-danger round",attrs:{type:"button"},on:{click:function(e){return t.remove()}}},[t._v("删除")])]),t._v(" "),a("li",[a("button",{staticClass:"btn btn-info round",attrs:{type:"button"},on:{click:function(e){return t.reflesh()}}},[t._v("刷新")])])]),t._v(" "),a("div",{staticClass:"clearfix"})]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"white-box"},[a("h2",{staticClass:"header-title"},[t._v("App列表")]),t._v(" "),a("div",{staticClass:"table-responsive"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",size:"mini"},on:{"selection-change":t.changeFun}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rownum",label:"序号",width:"60",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"app_name",label:"APP名",width:"135",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"instruct",align:"center",width:"200",label:"APP指令"}}),t._v(" "),a("el-table-column",{attrs:{prop:"founder",align:"center",width:"130",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",align:"center",width:"200",label:"创建时间",formatter:t.timeFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"agent_count",label:"授权Agent数",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("button",{staticClass:"btn btn-success outline-btn round",attrs:{type:"button"},on:{click:function(e){t.dialogTableVisible=!0}}},[t._v(t._s(e.row.agent_count))])]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v("操作")])]}}])})],1)],t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{background:"",layout:"sizes,prev, pager, next,total","page-sizes":[10,20,50,100,200],total:t.page.totalRows,size:t.page.pageSize,"current-page":t.page.currentPage},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)],2)])])]),t._v(" "),a("el-dialog",{attrs:{title:"取消Agent授权",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-container",[a("el-header",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-input",{attrs:{size:"small",placeholder:"ip"},model:{value:t.entity.instruct,callback:function(e){t.$set(t.entity,"instruct",e)},expression:"entity.instruct"}})],1),t._v(" "),a("el-col",{attrs:{span:7}},[a("el-input",{attrs:{size:"small",placeholder:"标识"},model:{value:t.entity.instruct,callback:function(e){t.$set(t.entity,"instruct",e)},expression:"entity.instruct"}})],1),t._v(" "),a("el-col",{attrs:{span:6}},[a("button",{staticClass:"btn btn-success outline-btn round",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-search"})])])],1)],1),t._v(" "),a("el-main",[a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{property:"name",label:"ip",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{property:"address",label:"标识"}})],1)],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增APP",visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.entity,"status-icon":"",rules:t.rules}},[a("el-form-item",{attrs:{label:"APP指令:","label-width":t.formLabelWidth,prop:"instruct"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.entity.instruct,callback:function(e){t.$set(t.entity,"instruct",e)},expression:"entity.instruct"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"APP名:","label-width":t.formLabelWidth,prop:"app_name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.entity.app_name,callback:function(e){t.$set(t.entity,"app_name",e)},expression:"entity.app_name"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.insert()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var y=a("C7Lr")(b,C,!1,function(t){a("oZDi")},"data-v-4d4c7bb7",null).exports,w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",[this._v("App列表")])])}]};var $=a("C7Lr")({name:"AppList"},w,!1,function(t){a("DlX2")},"data-v-4c0bf4ea",null).exports,x={name:"UserManage",data:function(){return{page:this.config.page,tableData:[],dialogFormVisible:!1,dialogTableVisible:!1,entity:{user_name:"",email:""},selected:[],listApp:[],rules:{user_name:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:1,max:20,message:"长度在 1 到 20 个字符",trigger:"blur"}],email:[{type:"email",required:!0,message:"请输入合法邮箱",trigger:"change"}]}}},mounted:function(){this.queryListForPage()},methods:{queryListForPage:function(t){this.$http.post(this.api.userQueryListForPage,{page:this.page}).then(function(e){var a=e.data;0===a.code?(h(a.data),this.tableData=a.data,this.page=a.page):204!==a.code&&this.$alert(a.msg,"提示",{confirmButtonText:"确定"}),t&&t(e)},function(){this.$message.error("后台异常")})},sizeChange:function(t){this.page.pageSize=t,this.page.currentPage=1,this.queryListForPage()},currentChange:function(t){this.page.currentPage=t,this.queryListForPage()},timeFormat:function(t,e,a){return g(a)?"":d(new Date(a),"yyyy-MM-dd HH:mm:ss")},insert:function(){var t=this;this.$refs.form.validate(function(e){if(!e)return!1;t.$http.post(t.api.userInsertOrUpdate,t.entity).then(function(e){var a=e.data;0===a.code?(t.dialogFormVisible=!1,t.queryListForPage()):204!==a.code&&t.$alert(a.msg,"提示",{confirmButtonText:"确定"})},function(e){console.log("error submit!!"),t.$message.error("后台异常")})})},changeFun:function(t){this.selected=t},remove:function(){this.$http.post(this.api.userDelete,this.selected).then(function(t){var e=t.data;0===e.code?(this.$message({message:"成功",type:"success"}),this.queryListForPage()):204!==e.code&&this.$alert(e.msg,"提示",{confirmButtonText:"确定"})},function(){this.$message.error("后台异常")})},reflesh:function(){var t=this;this.queryListForPage(function(){t.$message("刷新成功")})},edit:function(t){this.entity=t,this.dialogFormVisible=!0},clearObj:function(t){if(void 0!==t){for(var e in t)t[e]="";return t}}}},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"page-title-box"},[a("h4",{staticClass:"page-title"},[t._v("用户管理 ")]),t._v(" "),a("ol",{staticClass:"breadcrumb"},[a("li",[a("button",{staticClass:"btn btn-success round",attrs:{type:"button"},on:{click:function(e){t.dialogFormVisible=!0,t.clearObj(t.entity)}}},[t._v("新增")])]),t._v(" "),a("li",[a("button",{staticClass:"btn btn-danger round",attrs:{type:"button"},on:{click:function(e){return t.remove()}}},[t._v("删除")])]),t._v(" "),a("li",[a("button",{staticClass:"btn btn-info round",attrs:{type:"button"},on:{click:function(e){return t.reflesh()}}},[t._v("刷新")])])]),t._v(" "),a("div",{staticClass:"clearfix"})]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"white-box"},[a("h2",{staticClass:"header-title"},[t._v("Auth列表")]),t._v(" "),a("div",{staticClass:"table-responsive"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",size:"mini"},on:{"selection-change":t.changeFun}},[a("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"rownum",label:"序号",width:"50",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"user_name",label:"用户名",width:"80",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",align:"center",width:"140",label:"邮箱"}}),t._v(" "),a("el-table-column",{attrs:{prop:"founder",align:"center",width:"100",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",align:"center",width:"140",label:"创建时间",formatter:t.timeFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"update_time",align:"center",width:"140",label:"更新时间",formatter:t.timeFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"last_login_time",align:"center",width:"140",label:"上次登录时间",formatter:t.timeFormat}}),t._v(" "),a("el-table-column",{attrs:{prop:"last_login_ip",align:"center",width:"150",label:"上次登录IP"}}),t._v(" "),a("el-table-column",{attrs:{prop:"login_times",align:"center",width:"50",label:"登录次数"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("button",{staticClass:"btn btn-warning round",attrs:{type:"button"},on:{click:function(a){return t.edit(e.row)}}},[t._v("编辑")])]}}])})],1)],t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{background:"",layout:"sizes,prev, pager, next,total","page-sizes":[10,20,50,100,200],total:t.page.totalRows,size:t.page.pageSize,"current-page":t.page.currentPage},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)],2)])])]),t._v(" "),a("el-dialog",{attrs:{title:"新增用户",visible:t.dialogFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"form",attrs:{model:t.entity,"status-icon":"",rules:t.rules}},[a("el-form-item",{attrs:{label:"用户名:","label-width":"120px",prop:"user_name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入用户名"},model:{value:t.entity.user_name,callback:function(e){t.$set(t.entity,"user_name",e)},expression:"entity.user_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱:","label-width":"120px",prop:"email"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入邮箱"},model:{value:t.entity.email,callback:function(e){t.$set(t.entity,"email",e)},expression:"entity.email"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.insert()}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var F=a("C7Lr")(x,k,!1,function(t){a("Qilz")},"data-v-f3dceb4c",null).exports,P={name:"Dashboard",data:function(){return{}},mounted:function(){this.queryAll(),initDashboard()},methods:{queryListForPage:function(t){this.$http.post(this.api.userQueryListForPage,{page:this.page}).then(function(e){var a=e.data;0===a.code?(h(a.data),this.tableData=a.data,this.page=a.page):204!==a.code&&this.$alert(a.msg,"提示",{confirmButtonText:"确定"}),t&&t(e)},function(){this.$message.error("后台异常")})},queryAll:function(){}}},L={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"page-title-box"},[e("h4",{staticClass:"page-title"},[this._v("Dashboard页： Elves各模块健康状况 ")]),this._v(" "),e("div",{staticClass:"clearfix"})]),this._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"white-box"},[e("div",{staticClass:"table-responsive"},[e("div",{staticStyle:{height:"500px",width:"1100px",float:"left",position:"relative"},attrs:{id:"elvesModule"}})])])])])])}]};var D=a("C7Lr")(P,L,!1,function(t){a("69Z0")},"data-v-700cd592",null).exports;s.default.use(r.a);var q=new r.a({routes:[{path:"/login",name:"Login",component:l},{path:"/",name:"Base",component:p,children:[{path:"/",component:D},{path:"/console",component:D},{path:"/authManage",component:_},{path:"/appManage",component:y},{path:"/agentList",component:$},{path:"/userManage",component:F}]}]}),A=a("OolZ"),z=a("4DWU"),S=a.n(z),E=(a("epTE"),"http://"+window.location.hostname+":8081"),M={authLogin:(E=/[a-z]/i.test(window.location.hostname)&&"localhost"!==window.location.hostname?"http://"+window.location.host:"http://"+window.location.hostname+":8081")+"/login",authLoginOut:E+"/loginOut",appQueryListForPage:E+"/app/queryListForPage",appInsertOrUpdate:E+"/app/insertOrUpdate",appDelete:E+"/app/delete",authQueryListForPage:E+"/auth/queryListForPage",authInsertOrUpdate:E+"/auth/insertOrUpdate",authDelete:E+"/auth/delete",appQueryList:E+"/app/queryList",userQueryListForPage:E+"/user/queryListForPage",userInsertOrUpdate:E+"/user/insertOrUpdate",userDelete:E+"/user/delete"};a("Sxsu"),a("X5kB"),a("5GCS"),a("Tb3M");s.default.use(q),s.default.use(A.a),s.default.use(S.a),s.default.config.productionTip=!1,s.default.prototype.api=M,s.default.prototype.config={page:{currentPage:1,pageSize:10,list:"",resultSet:"",sql:"",totalPage:0,totalRows:0}},s.default.http.options.xhr={withCredentials:!0},s.default.prototype.getCookie=function(t){var e=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),a=document.cookie.match(e);return a?a[2]:null},s.default.prototype.setCookie=function(t,e,a){var s=new Date;s.setTime(s.getTime()+60*a*60*1e3);var i="expires="+s.toUTCString();document.cookie=t+"="+e+"; "+i},s.default.prototype.removeCookie=function(t){this.setCookie(t,"",-1)},q.beforeEach(function(t,e,a){"/login"===t.path?a():s.default.prototype.getCookie("JSESSIONID")?a():a({path:"/login"})}),s.default.http.interceptors.push(function(t,e){t.credentials=!0,e(function(t){return 204===t.data.code&&q.push({path:"/login"}),t})}),new s.default({el:"#app",router:q,components:{App:n},template:"<App/>"})},Qilz:function(t,e){},Sxsu:function(t,e){},Tb3M:function(t,e){},VQ3W:function(t,e){},X5kB:function(t,e){},epTE:function(t,e){},oZDi:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.658efc1334bc5fa3a246.js.map